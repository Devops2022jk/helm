Login to ECR and Push Helm Chart

View raw log

Starting: Login to ECR and Push Helm Chart
==============================================================================
Task         : AWS Shell Script
Description  : Run a shell script using Bash with AWS credentials as environment variables
Version      : 1.22.0
Author       : Amazon Web Services
Help         : Runs a shell script in Bash, setting AWS credentials and region information into the shell environment using the standard environment keys _AWS_ACCESS_KEY_ID_, _AWS_SECRET_ACCESS_KEY_, _AWS_SESSION_TOKEN_ and _AWS_REGION_.

More information on this task can be found in the [task reference](https://docs.aws.amazon.com/vsts/latest/userguide/awsshell.html).

####Task Permissions
Permissions for this task to call AWS service APIs depend on the activities in the supplied script.
==============================================================================
Configuring credentials for task
...configuring AWS credentials from service endpoint '7d5a5470-2137-4e03-af9d-7a9ed8850877'
...configuring AWS credentials from service endpoint '7d5a5470-2137-4e03-af9d-7a9ed8850877'
Skipping OIDC: not enabled in service connections
...configuring AWS credentials from service endpoint '7d5a5470-2137-4e03-af9d-7a9ed8850877'
...endpoint defines role-based credentials for role ***.
Configuring region for task
...configured to use region us-east-2, defined in task.
/usr/bin/bash /home/vsts/work/_temp/awsshellscript_2166.sh
Logging in to AWS ECR for Helm OCI Push...
Login Succeeded
Logged into AWS ECR Helm OCI registry
Pushing Helm chart dataplatform-1.0.0.tgz to oci://767397961280.dkr.ecr.us-east-2.amazonaws.com/catos-data-platform-repo
Error: failed to perform "Push" on destination: POST "https://767397961280.dkr.ecr.us-east-2.amazonaws.com/v2/catos-data-platform-repo/dataplatform/blobs/uploads/": response status code 404: name unknown: The repository with name 'catos-data-platform-repo/dataplatform' does not exist in the registry with id '767397961280'

##[error]Error: The process '/usr/bin/bash' failed with exit code 1
Finishing: Login to ECR and Push Helm Chart
