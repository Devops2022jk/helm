the below pipeline is present in azure devops, can you pls create a flow chart for the below pipeline line stages and add below conditions to the pipeline.



Initialize Job

   ↓

Checkout Repository

   ↓

Cache Maven Local Repo

   ↓

Install Java 17

   ↓

JFrog Maven Build

   ↓

Advanced Security Scanning

   ↓

CodeQL Scanning

   ↓

SonarQube Scan

   ↓

Publish Quality Gate Result

   ↓

Publish Test Results

   ↓

Prisma Compute Scan

   ↓

Tar File Creation

   ↓

Publish Docker Image Artifact

   ↓

Post-job: Cache Maven Local Repo



download docker Image --> push to ECR





conditions:



Advanced Security Pipeline Controls

 

- Dependency Scanning:  

  All vulnerabilities identified during dependency scanning will be reported, but will not cause the pipeline to fail. Development teams are responsible for reviewing the findings and addressing necessary fixes.

 

- CodeQL Scanning:  

  CodeQL analysis will detect and report all vulnerabilities; however, these findings will not break the pipeline. Teams should review the results and implement appropriate remediation as required.

 

- Secrets Detection:  

  If any secrets are detected (e.g., plaintext credentials or keys), the pipeline will fail and prevent commits. Secret exposure is strictly prohibited.

 

- SonarQube Scan:  

  The pipeline will fail if any of the following SonarQube validation criteria for new code are not met:

  - No new issues are introduced.

  - All new security hotspots are reviewed.

  - Test coverage for new code is at least 80%.

  - Code duplication in new code is no more than 3%.

 

- Prisma Scan:  

  Vulnerabilities related to Docker images identified by Prisma Scan will be reported, but will not result in pipeline failure. Teams must review these findings and ensure timely remediation.
